{% comment %}
  Hermann Love Letters - Premium Testimonials
{% endcomment %}

<div class="love-letters-section">
  <div class="container text-center">
    
    <div class="section-badge">
       <span class="badge-text">Spread the Love</span>
    </div>
    
    <h2 class="section-title">Love Letters From Our Family</h2>
    <p class="section-subtitle">Hear what our customers have to say about their Hermann experience</p>

    <!-- Carousel Container -->
    <div class="testimonials-carousel">
       <div class="carousel-track">
          {% for block in section.blocks %}
            <div class="testimonial-card">
               <div class="stars">
                 <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
               </div>
               <blockquote class="quote-text">"{{ block.settings.quote }}"</blockquote>
               <div class="author-info">
                  <span class="author-name">{{ block.settings.author }}</span>
                  <span class="author-location">{{ block.settings.location }}</span>
               </div>
            </div>
          {% endfor %}
       </div>
       
       <!-- Dots -->
       <div class="carousel-dots">
          {% for block in section.blocks %}
             <button class="dot {% if forloop.first %}active{% endif %}" data-index="{{ forloop.index0 }}"></button>
          {% endfor %}
       </div>
    </div>

  </div>
</div>

<style>
.love-letters-section {
  padding: 6rem 0;
  background: white; /* Clean white for contrast */
  position: relative;
}

.section-badge { margin-bottom: 1rem; }
.badge-text { 
  background: var(--c-sand); color: var(--c-text); padding: 5px 15px; 
  border-radius: 20px; text-transform: uppercase; font-size: 0.7rem; letter-spacing: 1px;
}

.section-title { font-family: var(--font-heading); font-size: 2.5rem; color: var(--c-text); margin-bottom: 0.5rem; }
.section-subtitle { color: var(--c-taupe); font-size: 1rem; margin-bottom: 3rem; }

.testimonial-card {
  background: #FDFBF7; /* Cream Card */
  padding: 3rem 2rem;
  border-radius: 12px;
  max-width: 800px;
  margin: 0 auto;
  box-shadow: 0 10px 30px rgba(0,0,0,0.03);
  display: none; /* JS will show active */
  animation: fadeIn 0.5s ease;
}
.testimonial-card.active { display: block; }

.stars { color: #D4AF37; font-size: 1.2rem; margin-bottom: 1.5rem; letter-spacing: 5px; }

.quote-text {
  font-family: var(--font-heading);
  font-size: 1.5rem;
  line-height: 1.5;
  color: var(--c-text);
  font-style: italic;
  margin-bottom: 2rem;
}

.author-info { display: flex; flex-direction: column; }
.author-name { font-weight: 700; font-size: 1.1rem; text-transform: uppercase; letter-spacing: 1px; }
.author-location { font-size: 0.9rem; color: #888; font-style: italic; margin-top: 5px; }

/* Dots */
.carousel-dots { margin-top: 2rem; display: flex; justify-content: center; gap: 10px; }
.dot { width: 10px; height: 10px; border-radius: 50%; background: #ddd; border: none; cursor: pointer; transition: 0.3s; }
.dot.active { background: var(--c-accent); transform: scale(1.2); }

@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

@media(max-width: 768px) {
  .section-title { font-size: 1.8rem; }
  .quote-text { font-size: 1.2rem; }
}
</style>

<script>
  const cards = document.querySelectorAll('.testimonial-card');
  const dots = document.querySelectorAll('.dot');
  let currentIndex = 0;

  function showSlide(index) {
     cards.forEach(c => c.classList.remove('active'));
     dots.forEach(d => d.classList.remove('active'));
     
     if(cards[index]) cards[index].classList.add('active');
     if(dots[index]) dots[index].classList.add('active');
  }

  dots.forEach(dot => {
     dot.addEventListener('click', () => {
         currentIndex = parseInt(dot.getAttribute('data-index'));
         showSlide(currentIndex);
     });
  });

  // Auto Play
  setInterval(() => {
     currentIndex = (currentIndex + 1) % cards.length;
     showSlide(currentIndex);
  }, 5000);

  // Init
  showSlide(0);
</script>

{% schema %}
{
  "name": "Love Letters",
  "blocks": [
    {
      "type": "testimonial",
      "name": "Letter",
      "settings": [
        { "type": "textarea", "id": "quote", "label": "Quote", "default": "This cream changed my skin completely! It's like a warm hug in a jar." },
        { "type": "text", "id": "author", "label": "Author", "default": "Maria K." },
        { "type": "text", "id": "location", "label": "Location", "default": "Athens, Greece" }
      ]
    }
  ],
  "presets": [{ "name": "Love Letters Slider", "blocks": [{},{},{}] }]
}
{% endschema %}
