<section class="section product-grid-section">
  <div class="container">
    <div class="flex-between" style="margin-bottom: 3rem;">
      <h2>{{ section.settings.heading }}</h2>
      {% if section.settings.view_all_link %}
        <a href="{{ section.settings.view_all_link }}" class="btn-secondary" style="font-size: 0.9rem; padding: 0.5rem 1.5rem;">
          View All <i class="fa-solid fa-arrow-right" style="margin-left: 5px;"></i>
        </a>
      {% endif %}
    </div>
    
    <div class="product-grid-container">
      {% if section.settings.collection != blank %}
        {% assign collection = collections[section.settings.collection] %}
        {% for product in collection.products limit: section.settings.products_to_show %}
          {% render 'product-card', product: product %}
        {% endfor %}
      {% else %}
        <!-- Fallback Placeholder Products -->
        {% for i in (1..4) %}
          <div class="product-card">
            <div class="product-media">
              {{ 'product-' | append: i | placeholder_svg_tag }}
            </div>
            <div class="product-info">
              <h3>Sample Product {{ i }}</h3>
              <p class="product-price">â‚¬45.00</p>
            </div>
          </div>
        {% endfor %}
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Product Grid",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Fresh From The Kitchen"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "label": "Products",
      "min": 4,
      "max": 12,
      "step": 4,
      "default": 4
    },
    {
      "type": "url",
      "id": "view_all_link",
      "label": "Link"
    }
  ],
  "presets": [
    {
      "name": "Product Grid"
    }
  ]
}
{% endschema %}
