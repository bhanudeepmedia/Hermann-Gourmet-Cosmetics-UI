{% comment %}
  Hermann Luxury Header - Stacked Layout (Logo Top, Nav Bottom)
{% endcomment %}

<header class="site-header" style="background-color: {{ section.settings.bg_color }};">
  
  <!-- TOP ROW: Logo & Icons -->
  <div class="header-top container">
    
    <!-- Placeholder Left (for balance) or Socials -->
    <div class="header-left desktop-only">
        <!-- Optional Socials here if needed -->
    </div>

    <!-- Center: Logo -->
    <div class="header-center logo-wrapper">
      <a href="{{ routes.root_url }}">
        {% if section.settings.logo %}
          <img src="{{ section.settings.logo | img_url: '400x' }}" alt="{{ shop.name }}" class="logo-img">
        {% else %}
          <span class="logo-text">{{ section.settings.logo_text }}</span>
        {% endif %}
      </a>
    </div>

    <!-- Right: Icons -->
    <div class="header-right icons-wrapper">
      <a href="{{ routes.search_url }}" class="icon-link">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
        <span class="icon-label">Search</span>
      </a>
      {% if shop.customer_accounts_enabled %}
      <a href="{{ routes.account_url }}" class="icon-link">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
         <span class="icon-label">Account</span>
      </a>
      {% endif %}
      <a href="{{ routes.cart_url }}" class="icon-link">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line></svg>
         <span class="icon-label">Cart - {{ cart.item_count }}</span>
      </a>
      
      <!-- Mobile Toggle -->
      <button class="mobile-toggle mobile-only">
         <svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
      </button>
    </div>
  </div>

  <!-- BOTTOM ROW: Navigation -->
  <div class="header-bottom desktop-only">
    <div class="container text-center">
      <nav class="main-nav">
        <ul class="nav-list">
          {% for link in linklists[section.settings.menu].links %}
            <li class="nav-item">
              <a href="{{ link.url }}" class="nav-link">{{ link.title }}</a>
              {% if link.links != blank %}
                <ul class="dropdown">
                  {% for child in link.links %}
                    <li><a href="{{ child.url }}">{{ child.title }}</a></li>
                  {% endfor %}
                </ul>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      </nav>
    </div>
  </div>

  <!-- Mobile Drawer -->
  <div class="mobile-drawer">
      <div class="drawer-header">
        <span>Menu</span>
        <button class="close-drawer">âœ•</button>
      </div>
      <ul class="mobile-list">
        {% for link in linklists[section.settings.menu].links %}
           <li><a href="{{ link.url }}">{{ link.title }}</a></li>
        {% endfor %}
      </ul>
  </div>

</header>

<style>
/* Reset & Layout */
.site-header {
  border-bottom: 1px solid rgba(0,0,0,0.05);
  font-family: var(--font-body);
}
.header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.5rem 0;
}
.header-left, .header-right { flex: 1; }
.header-center { flex: 2; text-align: center; }
.header-right { display: flex; justify-content: flex-end; gap: 1.5rem; align-items: center; }

/* Logo */
.logo-img { max-width: 250px; height: auto; display: block; margin: 0 auto; }
.logo-text { font-family: var(--font-heading); font-size: 2.5rem; letter-spacing: 1px; }

/* Icons */
.icon-link {
  display: flex; align-items: center; gap: 8px;
  text-decoration: none; color: var(--c-text);
  font-size: 0.85rem; font-weight: 500; text-transform: uppercase;
}
.icon-link:hover { color: var(--c-accent); }

/* Navigation Row */
.header-bottom {
  border-top: 1px solid rgba(0,0,0,0.05);
  padding: 1.2rem 0;
}
.nav-list {
  display: flex; justify-content: center; gap: 2.5rem;
  list-style: none; margin: 0; padding: 0;
  flex-wrap: wrap;
}
.nav-link {
  text-decoration: none; color: var(--c-text);
  font-size: 0.8rem; font-weight: 500; text-transform: uppercase; letter-spacing: 0.05em;
  transition: color 0.2s;
  position: relative;
}
.nav-link:hover { color: var(--c-accent); }

/* Mobile Drawer */
.mobile-drawer {
    position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
    background: white; z-index: 9999;
    transform: translateX(-100%); transition: transform 0.3s ease;
    padding: 2rem;
}
.mobile-drawer.active { transform: translateX(0); }
.drawer-header { display: flex; justify-content: space-between; font-size: 1.5rem; margin-bottom: 2rem; }
.mobile-list { list-style: none; padding: 0; }
.mobile-list li a { display: block; font-size: 1.2rem; padding: 1rem 0; border-bottom: 1px solid #eee; color: #333; }

/* Responsive */
.mobile-only { display: none; }
@media (max-width: 900px) {
  .desktop-only { display: none; }
  .mobile-only { display: block; border: none; background: none; }
  .header-top { padding: 1rem 0; }
  .logo-img { max-width: 150px; }
  .icon-label { display: none; } /* Hide text on mobile */
  .icon-link svg { width: 24px; height: 24px; }
}
</style>

<script>
  const toggle = document.querySelector('.mobile-toggle');
  const drawer = document.querySelector('.mobile-drawer');
  const close = document.querySelector('.close-drawer');

  if(toggle) {
     toggle.addEventListener('click', () => drawer.classList.add('active'));
     close.addEventListener('click', () => drawer.classList.remove('active'));
  }
</script>

{% schema %}
{
  "name": "Hermann Replica Header",
  "settings": [
    { "type": "color", "id": "bg_color", "label": "Background", "default": "#ffffff" },
    { "type": "image_picker", "id": "logo", "label": "Logo" },
    { "type": "text", "id": "logo_text", "label": "Logo Text", "default": "HERMANN" },
    { "type": "link_list", "id": "menu", "label": "Menu", "default": "main-menu" }
  ]
}
{% endschema %}
